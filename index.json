[{"categories":["life"],"content":"接上篇 毕业个人踩坑指北 – 价值篇 简单谈到了为什么要用时间来衡量生活，本文侧重于帮你理清楚如何衡量一份工作是否值得。 时间是投资储备, 自然可以用来衡量工作。那么是否有更广意义上的薪酬或者回报标准呢? 虽然工作一年比一年卷（似乎好多领域都这样？）, 但也不必太过焦虑, 刚拿到一份offer就匆匆签约。反过来, 这时正是个人状态最好的时候。 此时，心理负担会大为减轻, 若 offer 的分量较重, 同时会减轻其他的面试压力。所以时间不紧张的情况下, 可以继续尝试更多的公司或者面试。 本文并不想侧重如何拿到第一份工作，这跟每个人的情况和喜好都有较大的关联。让我们快进一下，穿越到短期的某个未来, 此时你可能拿到了许多offer，他们也许有优劣之分，也许相差不大。本文想聊的话题，便是若干份工作侧重点不同，难以判断时的一些建议。 粗糙的分析大约有三个标准, 一是 收入 ，二是 行业 ，三是 平衡 （下一篇讲）。其中收入较为直观，行业最重要，平衡是综合考量。 先说结论， 优先考虑时间复利效应好的行业（长久性强的），其次是地域，最后是第一份工作的薪水，生活与工作的平衡程度会等比例放大或缩小效果 。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:0:0","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"1收入 收入往往是比较关注的一项, 但我更想帮你理清楚收入与别的更重要的事情的关联, 以免陷入唯金钱论的焦虑中。收入有多个维度的考虑： 工作时间，工作强度，金钱收入，行业的沉没成本，生活开支，家人的影响 等等。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:1:0","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"1.1薪酬 互联网大体状况可以参考这份链接: https://www.zhihu.com/question/429548710 , 出处似乎是交大水源BBS的内部水贴，资料稍微有些过时（去年和今年的待遇都更好一些）。为了真实性，在分析时仅举其中几个我秋招经历过的公司为例，所以作为一份可靠的参考，其他公司可向上向下类推，我经历有限只能给出这些公司的数据。 字节跳动等一众互联网公司。 据我了解去年秋招大家签的offer都不错, 硕士大部分在一年40~45w左右, 优秀的567开头也很多。博士比比皆是的60打底，但期权已经越来越吝啬, 且有35岁被优化之风险。 外企。以我比较了解的微软为例, 至于亚马逊等其他外企平均差别不大，但值得注意的是不同小组的工作强度可能差别较大，建议事前调查清楚。 白菜23.8w base(即20k)+4w刀股票分四年(即6w股)+3w签字费+10%bonus 。 sp28.4w base(即24k)+5.5w刀股票分四年(即8w股)+3w签字费+10%bonus 。 央企国企，公务员，编制教师等等。这类在江浙地区的收入也不错，且相对轻松稳定。工作年份的影响比较大，有时早入职一年能多拿到很多机会，工作待遇和岗位随着时间的增长收益较高。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:1:1","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"1.2区间抉择 互联网公司的特点是， 收入的base高 ，人才缺口也大但给的薪水区间也比较大，大佬和摸鱼菜鸡(比如我)都能找到对应的坑位。业务成长快, 工作模块化, 导致 个人晋升压力较大 。比较极端化的例子如某多多, 白菜都到了55+ ，但强度很大，建议你先搜索一下相关新闻再决定是否签约。 微软的情况可以代表一大部分外企以及部分国企, 特点是 收入稍低但相对稳定福利较多 ，有更多的时间和精力提升自己, 以及平衡生活。缺点是 大家水平方差较大 ，参差不齐，自律的大佬晋升飞快, 而摸鱼人可能就把最珍贵的几年用来止步不前了。值得指出的是许多外企都有肉身翻墙的机会（岗位如果在美有对应的职位），可以申请调动，微软平调的话大约一年14~17W美刀，以西雅图的房价是相当舒服。 这两者基本可以代表招人较多的两类大厂的普遍价格。其实还有大量呈现均匀分布的中间带。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:1:2","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"1.3地域的影响 工作首先会影响的是的生活地点。不像读书时的纯粹，工作后离家距离，生活（住房）成本，通勤成本，城市文化等等都会切切实实参与到你的生活中，需要为你的一切行为负责和买单。 许多人都选择了留在大城市（比如我选择了留在上海）。上海的落户政策相比北京较为友好, 现在许多学校都有直接落户上海的政策，但必须指出的是，“天下没有免费的午餐”，在伴随着薪水高机会多等优点的同时, 也带来了巨大的生活压力。 房贷教育 等多方面都是巨大的开支，不断地推动你往前走。如果你来自小城市，还会面临着和家人的 长期分居 。 而成都南京等城市, 带来的是更多的自由时间，生活成本的降低导致 收入压力 较小 ，带来了更好的生活幸福感，陪伴家人的时间也更多。缺点是 选择面较窄 ，需要看所在的领域在这些城市是否有合适的工作。 总而言之，不能因为城市的大小就贸然决定，因为会在这个城市花费一年乃至更久的时间，这是一份需要细细思考的投资。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:1:3","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"2行业影响（最重点） ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:2:0","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"2.1时间角度的复利 由于我并不是会计等相关专业，理解肯定有所片面，这里只能班门弄斧套用概念，不过我相信大家理解含义即可。复利被称为世界第八大奇迹，理解复利概念前，首先区别其和单利的区别。单利是指一笔资金无论存期多长，只有本金计取利息，而以前各期利息在下一个利息周期内不计算利息的计息方法。 而复利简单的理解，是指先计算第一期利息，再加到本金上，然后用新的本金计算下一期的利息，就这样重复计息，来张图直观的看一下： 在基本收益为10, 单次复利为5% 的情况下，复利的影响随着时间呈现指数增长。且复利周期越短，增长速度越快，当周期无限短时，变成了理想的连续复利。 连续复利公式： 时间的影响很容易被忽略掉，一分一秒甚至一天一周的变化都微不可察。但时间又具有持续影响性和颗粒无限细分的特点，所以时间在某种程度上属于 利率很小的连续复利 。 在漫长的时间维度上，某一时刻的高额回报，远不如长期的细小积累。 初期的工作薪酬在时间的影响上十分轻微 。 什么会显著影响到时间的复利性呢？这里想讨论一下行业的影响。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:2:1","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"2.2为什么行业最重要 第一份工作是正式进入一个行业的标志。进入不同工作或者不同领域，入职的收入差别或者内容差别在该 行业的时间影响力 面前显得 微不足道 。行业抉择是权重最高却恰恰因为信息较少容易忽略的一项。 的确，现在更换工作的机会成本越来越低，甚至许多人的工作都和自己的第一份工作毫不相关。但一年或者几年的黄金工作经验, 在时间的维度可能是当下甚至未来数年最大的一笔 投资 。 同时会显著影响后续的工作抉择空间和生活抉择空间。 应当选择影响时间更为长久的行业或者工作，也就是时间维度上的 复利效应 。例如，教师，航空工作者，科研人员，医生，律师等行业都具备这些优点（还有很多）。 所从事的行业，所花费的时间，都在深刻影响着未来。着重关注行业在时间维度上的正面影响，比如这个领域是否有着足够的抗风险能力，行业是否已经有了良好的发展基础，这些保底因素都会决定着你的经验和履历是否能够随着时间而变得越来越有价值。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:2:2","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"2.3简短的问题 在茫然而主观地谈论行业地优缺点前，或者开始收集信息前，可以先从如下几个角度进行简短的思考： 是否 喜欢 这个领域？ 是否值得自己 投入几年 的时间？ 工作履历是否能产生 复利效应 ？ 该领域是否有比较好的 个人发展渠道 ？ 行业是否 长期健康 ？ ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:2:3","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"2.4收集信息再回答 不要简单的从主观去回答这个问题，去 搜集 更多的企业和行业信息。 有趣的是，人在难以抉择和过快抉择的时候，都可能是缺乏足够的信息。难以抉择往往是对于多方事物掌握的信息相差不多，而过快抉择也可能是因为信息较为片面。 相关信息越多，对于事物的分析就客观，其优点和劣势就越为明显，对于行业的理解就越深刻，不仅会影响到你正确地抉择合适地行业，还会对于你的职业规划有着良性的指导。 可以去相关行业的社区提问，去互联网搜索，去询问相关行业的师兄师姐，想办法去咨询有经验的人士，甚至直接去实习。总之，在决定前， 不要再去简单地用薪水比对工作的优劣 ，而去尽可能搜集多的行业动态和行业细则，这应该是最终决定是否签约的 核心因素 。 我自己最后去了一家背景雄厚的芯片初创公司，芯片对我是一个新的领域，的确有很多困难。选择这份工作很大程度上是因为想要尝试难但是未来回报更高的工作，特别是面视官非常诚恳，人格魅力很足，让我相信来到这里是一份很值得的投资。我入职后除了慢慢适应和学习，也经常去看许多芯片公司的新闻和财报，推测行业的动态。目前我仍觉得这是一个有价值的领域也是一份有趣的工作，对于新人的培养用心，留给新人学习的时间和课程都比较多。但坦白的说, 这里的伙食真的不咋的，建议大家提前调研一下心仪单位的伙食，我这里吃了信息不足的亏，饮食和健康是每个人投资的根本，在时间上的影响无可比拟。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:2:4","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"3平衡（待续） 生活是你的本位, 但不能一直不变; 工作占据了生活的大部分, 但不是全部。 一开始就应该期望着自己能够很好的平衡这两者, 而不是放弃工作去享受生活, 或者一头扎进工作忽视家人。从最初就努力做好平衡, 两边都努力拿稳。 ","date":"2021-09-20","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/:3:0","tags":["project"],"title":"毕业个人踩坑指北(二)–\"薪酬与时间的复利\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%BA%8C/"},{"categories":["life"],"content":"1引言 本篇博客本来四月份就要写的，拖延症加懒癌一直今天才见文。写之前多有犹豫，一是文笔不好，二是因为我本人也仅仅是艰难毕业艰难就业罢了，实在没有资格给别人建议。 今天趁着下班比较早(底层菜鸡无存在感)，一股脑胡乱写了出来，如果我的经验能给你任何的参考。那也算是很值得的了。 我的许多看法都是从《上海交通大学生存手册》获益而来，在此深表感谢，这个小册子于08年由一群交大本科生写就，强烈推荐大家有空的时候读一读。 原作者团队主要属于出国攻读博士群体，在关于如何立志等问题该手册有着更深入的思考，我仅在补充一些关于就业的粗浅见解。且因为我目前从事行业的信息片面性，所以求职经验可能会偏向于计算机方向。 ","date":"2021-09-09","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/:1:0","tags":["project"],"title":"毕业个人踩坑指北(一)–\"价值\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/"},{"categories":["life"],"content":"2最沉重的价值 ","date":"2021-09-09","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/:2:0","tags":["project"],"title":"毕业个人踩坑指北(一)–\"价值\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/"},{"categories":["life"],"content":"2.1时间 找工作，却需要先谈起时间这个听起来很鸡汤的词汇。这是因为在我看来, 它是顶重要的事情，贯彻着读书，工作以及生活，是抉择事物的核心点, 也是我们真正意义上的私人财富. 平常大家都习惯了用金钱的多寡去衡量一样东西的价值，比如美食的花费，衣服的价格，汽车乃至房产的价值等等。但无形的东西很难这样考虑，比如健康，知识，情感和朋友。而我想强调的，便是 用时间作为一种统一的衡量标准 。 ","date":"2021-09-09","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/:2:1","tags":["project"],"title":"毕业个人踩坑指北(一)–\"价值\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/"},{"categories":["life"],"content":"2.2投资 人的时间是一笔投资 ，举个例子： “如果你手上现在有五百万现金，你打算如何投资？也许你会拿这笔钱炒股炒房炒汇炒基金，或者是开公司开厂房倒买倒卖做生意。但我想，我们这样年纪的人，很少有人会认同把那笔钱换成金银珠宝，放到保险箱里存起来。当然了，看近年通货膨胀的架势，把钱存进银行吃到的利息估计还赶不上贬值的速度。” 我们之所以不认同换金银保值的想法，是因为我们知道，拥有这笔财富不应意味着坐吃山空，它们应当蕴含更大的力量，带来更广阔的机遇，在我们的操纵中产生出更为丰盛的回报。 相比于读书的开销乃至生活消费，我们每个人最沉重的财富，其实是青春，是时间。遗憾的是，无论我们做的有没有意义，哪怕什么也不做，时间仍在流逝。 ","date":"2021-09-09","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/:2:2","tags":["project"],"title":"毕业个人踩坑指北(一)–\"价值\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/"},{"categories":["life"],"content":"2.3衡量 那么， 从时间尺度上 去衡量一项事物的价值便显得理所当然了，甚至不会\"通货膨胀\"。一件事对我们影响的时间越长，就意味着这件事的价值越高。 “花同样的功夫，我们应该尽量多做那些对整个人生都产生正面影响的事情，少做对中期的未来产生影响的事情，不做只对近期产生影响的事情，而产生负面影响的事情应当尽可能避免。” 从这个角度讲，花时间刷无聊网页可以给我们带来几十分钟乃至一天的快乐，花时间做有意义的工作能让我们受益几年，而花时间陪伴家人以及健身则能让我们受益终身。 ","date":"2021-09-09","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/:2:3","tags":["project"],"title":"毕业个人踩坑指北(一)–\"价值\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/"},{"categories":["life"],"content":"2.4对等 希望你始终可以不断停下来思考， 当下做的事情是否有过时间上的考量 。 不管参加什么样的工作或者做什么样的研究，首先应当询问自己一个问题: 是否正在以过于低廉的价格出卖自己的时间? ","date":"2021-09-09","objectID":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/:2:4","tags":["project"],"title":"毕业个人踩坑指北(一)–\"价值\"篇","uri":"https://nowislewis.github.io/posts/%E6%AF%95%E4%B8%9A%E4%B8%AA%E4%BA%BA%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8C%97%E4%B8%80/"},{"categories":null,"content":"1M1 和 tree-sitter 简介 M1 芯片于2020年11月11日推出，是 Apple 首款专为Mac打造的芯片，拥有格外出色的性能以及令人惊叹的能效表现，也称为 Apple Silicon ，是arm64 架构的个人电脑芯片，在初期通过转译的方式实现了对于X86 结构引用的支持，而在arm 架构的软件上则表现出惊人的能耗比。作为爱好者自然早早入手了一款尝鲜，但因为架构的更换，许多软件都需要做相应的兼容性处理，本文也是这个目的。 tree-sitter 是一个速度很快的语法parser, 支持incremental parsing, error recovery 等功能，属于抽象语法树AST 在编辑器领域的一种应用。 引用官网的一段介绍: Tree-sitter is a parser generator tool and an incremental parsing library. It can build a concrete syntax tree for a source file and efficiently update the syntax tree as the source file is edited. Tree-sitter aims to be: General enough to parse any programming language Fast enough to parse on every keystroke in a text editor Robust enough to provide useful results even in the presence of syntax errors Dependency-free so that the runtime library (which is written in pure C) can be embedded in any application 目前已经支持C/C++ Go 等几十种语言. 但官方给的二进制文件是 x86 的, 因此对于 MacBook 的arm 架构是无法使用的, 需要自己编译。本文尝试给出一个可行的解决方案。 ","date":"2021-08-28","objectID":"https://nowislewis.github.io/posts/%E5%A6%82%E4%BD%95%E5%9C%A8apple-siliconm1%E4%B8%8A%E7%BC%96%E8%AF%91tree-sitter/:1:0","tags":["project"],"title":"如何在Apple Silicon(M1)上编译tree-sitter","uri":"https://nowislewis.github.io/posts/%E5%A6%82%E4%BD%95%E5%9C%A8apple-siliconm1%E4%B8%8A%E7%BC%96%E8%AF%91tree-sitter/"},{"categories":null,"content":"2环境准备 首先先安装一下 Homebrew 。Homebrew是一款软件包管理工具，拥有安装、卸载、更新、查看、搜索等很多实用的功能， “The missing package manager for Macos(or Linux)\"。起初在m1 芯片上需要分离环境分别安装 x86 和 arm 架构的homebrew ，经过数个版本的更新，现在已经可以自动处理，使用以下命令即可： /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\" tree-sitter 依赖 Rust, npm 等环境, 可通过以下命令安装快速安装: brew install cargo git npm llvm rust 后续的步骤参考了 这个 issue , 但它指出最新的 tree-sitter v0.20存在BUG 问题难以编译成功. 本人测试问题已经解决, 只需稍做修改即可, 因此我们直接选择最新版本: test -d rust-tree-sitter # clone 仓库 git clone https://github.com/tree-sitter/tree-sitter rust-tree-sitter cd rust-tree-sitter \u0026\u0026 git fetch 如果上述步骤都进行后, 当前目录应该是这样: ","date":"2021-08-28","objectID":"https://nowislewis.github.io/posts/%E5%A6%82%E4%BD%95%E5%9C%A8apple-siliconm1%E4%B8%8A%E7%BC%96%E8%AF%91tree-sitter/:2:0","tags":["project"],"title":"如何在Apple Silicon(M1)上编译tree-sitter","uri":"https://nowislewis.github.io/posts/%E5%A6%82%E4%BD%95%E5%9C%A8apple-siliconm1%E4%B8%8A%E7%BC%96%E8%AF%91tree-sitter/"},{"categories":null,"content":"3开始编译 接着, 切换到 cli 目录: cd cli \u0026\u0026 cargo install --path . 注意 --path 的后面有一个 . . 这里有一个坑, 如果你像我一样设置了用 GNU/gcc 覆盖了 llvm-gcc, 就需要在 .zshrc 里面注释掉这些代码: #alias gcc='gcc-11' #alias cc='gcc-11' #alias g++='g++-11' #alias c++='c++-11' 可以通过 gcc --version 来简单确认现在使用的版本, 结果大概是这样: liuyi@liuyideMacBook-Pro cli % gcc --version Configured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/usr/include/c++/4.2.1 Apple clang version 12.0.5 (clang-1205.0.22.9) Target: arm64-apple-darwin20.6.0 Thread model: posix InstalledDir: /Library/Developer/CommandLineTools/usr/bin ","date":"2021-08-28","objectID":"https://nowislewis.github.io/posts/%E5%A6%82%E4%BD%95%E5%9C%A8apple-siliconm1%E4%B8%8A%E7%BC%96%E8%AF%91tree-sitter/:3:0","tags":["project"],"title":"如何在Apple Silicon(M1)上编译tree-sitter","uri":"https://nowislewis.github.io/posts/%E5%A6%82%E4%BD%95%E5%9C%A8apple-siliconm1%E4%B8%8A%E7%BC%96%E8%AF%91tree-sitter/"},{"categories":null,"content":"4语言编译 接下来的步骤涉及编辑器的实现版本, 我使用的是emacs, 涉及到elisp-tree-sitter 项目, 其他编辑器需要去找类似的版本, 步骤大同小异: cd PROJECT_DIR_YOU_USE # 这个替换成你的项目路径 file cor/tsc.dyn.dylib | grep -q arm64 || rm-rf core/tsc-dyn.dylib grep -q LOCAL core/DYN-VERSION || printf LOCAL \u003ecore/DYN-VERSION grep -q DYN-VERSION bin/build \u0026\u0026 sed -q '/DYN-VERSION/d' bin/build \u003ebin/build.tmp \u0026\u0026 mv bin/build.tmp bin/build \u0026\u0026 chmod +x bin/build || : 然后重建 bindings: EMACS=emacs ./bin/setup \u0026\u0026 EMACS=emacs ./bin/build 然后把相关文件添加到项目的启动路径就可以了。 ","date":"2021-08-28","objectID":"https://nowislewis.github.io/posts/%E5%A6%82%E4%BD%95%E5%9C%A8apple-siliconm1%E4%B8%8A%E7%BC%96%E8%AF%91tree-sitter/:4:0","tags":["project"],"title":"如何在Apple Silicon(M1)上编译tree-sitter","uri":"https://nowislewis.github.io/posts/%E5%A6%82%E4%BD%95%E5%9C%A8apple-siliconm1%E4%B8%8A%E7%BC%96%E8%AF%91tree-sitter/"},{"categories":["tools"],"content":"1起因 随着工作和学习中资料和知识的不断积累, 经常处于“输入多, 输出少”的状态。这种状态不利于对于知识的吸收和消化。 个人偏好网状的学习方案，寻找不同知识的共通性和串联点，在学习和工作中积累了大量的零散笔记，我会尽量以博客的形式对值得分享的内容进一步整合, 希望这种书写方式能够给读者带来启发。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:1:0","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"2搭建方案权衡 常见的博客搭建方式有很多种，例如在CSDN、博客园等网站上注册账号发表内容，这种方式具有较高的SEO，博主的文章可以很容易被百度搜索等方式获取，阅读量和评论量都会较为可观，但存在大量同类复制问题，低质量甚至无效内容较多。另一种方式是搭建个人网站，依托服务器部署等方式，个人拥有对网站形式和内容的完全掌控力, 但过程较为繁琐且存在维护成本。 本文经过权衡选择第二种方式进行搭建，因为本文的初衷是个人知识体系的整合输出，且隐私性和聚合性也是主要考虑因素。在尝试了大量的现有方案后，最使用成熟的hugo网页生成方案, 托管在个人github pages页面减少维护成本；使用utteranc作为评论方式。接下来本文会对搭建流程及不同方案选择原因进行描述。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:2:0","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"3最终效果 虽然搭建的流程会较为复杂，但完成后，由于所有的网页生成部分均由action自动完成，因此 每次更新博客都只需要：本地编写内容－－－》git推送到个人仓库 ，大大减轻了网站的维护负担。 格式都由程序自动化统一控制，整齐方便，省去了排版的工夫，个人觉得比写word 之类的要快捷很多，可以专注于内容创作。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:3:0","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"4搭建流程 本文最终采用的搭建流程图如下： 流程图如下: ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:4:0","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"4.1生成markdown 本文使用org编写，因此需要ox-hugo生成符合hugo要求的文件。如果读者熟悉markdown，可以参考hugo官方的格式要求编写文章，跳过本小节从“github repo”步骤看起。 org是一种功能强大的文本格式，依托于emacs可完成笔记撰写和知识管理等多项要求。使用ox-hugo，经过简单的配置即可在指定的路径下生成文件。其中需要设置的参数有如下几个： #+hugo_base_dir，表示输出文件的路径 #+hugo_section, 表示输出文件的类别和父路径，官方推荐为 post 或者 blog ，也可自行设置。博客的输出分为两种方式，一种是依托于org mode的subtree结构，每个subtree是一个blog。另一种是每个org文件是一个blog。本文采用第一种方式，这种方式需要在每个需要输出的subtree下面显式的注明 EXPORT_FILE_NAME 。 在设置完毕后，执行 C-c C-e H A 即可按照subtree的方式输出多个markdown文件。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:4:1","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"4.2GitHub repo 将最终的html文件托管在github pages上，方便阅读。这里分为两种方式： 本文生成html文件上传； 上传笔记源文件通过github action自动推送到github pages所在repo。 在对两种方式都进行体验的结果上，出于懒癌本文采用了第二种方案。 GitHub pages也有两种生成方案，一种是github个人主页，另一种是项目托管主页。本文最开始采用单项目托管的方式，后来在使用loveit主题时存在图片路径不正确的问题，因此迁移到github个人主页的方式进行托管, 因此本文会主要阐述这种方案。 共分为两步： 以github.io为结尾的仓库，该仓库用于存储博客页面，用户无需改动； source仓库，该仓库默认私密，存储原始文档。通过action检测到source仓库中笔记文件的修改后，会自动调用github actions 推送博客网页到github.io仓库，免去了本地生成网页的麻烦。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:4:2","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"4.3评论系统选择 最初使用gitalk方案搭建评论系统，但存在索取权限过高问题，经过调研，对比了Vline等方案，最终选择utteranc方案。Utteranc相比需要第三方授权的方案，其利用issue的特性使其拥有对评论内容的完全备份性，可以随时迁出，避免了丢失的可能；其次，utteranc只需一次单repo的授权，对权限的要求大幅缩减，保证了安全性。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:4:3","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"5遇到的问题及解决方法 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:5:0","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"5.1无法正常显示图片 一开始使用单项目单page 的方式，但发现在loveit 的主题下无法正常显示图片，因此最终使用了 GitHub.io 的方式搭建，这种方法的缺点是只能拥有这一个地址，且需要另一个 repo 来负责存储 action 的 souce 文件。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:5:1","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"5.2导出路径 在迁移的时候，报错了许多问题，其中一个问题是导出路径要设置为 ./public 。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:5:2","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"5.3搜索问题： 需要同时设置 lunr 和output ，需要显式写在 taml 文件中，在 loveit 的官方文档中指出了默认参数，但不在 taml 中声明的话是无效的。 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:5:3","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"6添加访问量 不蒜子是一个通过仅仅两行代码实现的网页流量计数器 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:6:0","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"6.1设置使用custom 代码 在 config.toml 中添加如下代码: [params.footer] enable = true custom='' # 在这里添加下面的代码 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:6:1","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"6.2引入js 脚本: \u003cscript async src=\"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"\u003e\u003c/script\u003e ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:6:2","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"6.3在页面添加统计代码 分为两种, 一种是 pv , 即记录总访问数; 另一种是 uv , 即单访客点击任意次数均为1 次. \u003cspan id=\"busuanzi_container_site_pv\"\u003e 本站访问量：\u003cspan id=\"busuanzi_value_site_pv\"\u003e\u003c/span\u003e次 \u003c/span\u003e \u0026nbsp; \u003cspan id=\"busuanzi_container_site_uv\"\u003e 您是本站第 \u003cspan id=\"busuanzi_value_site_uv\"\u003e\u003c/span\u003e 位访问者 \u003c/span\u003e ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:6:3","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"},{"categories":["tools"],"content":"6.4在单页面中添加以下代码 \u003ch5 id=\"wc\" style=\"font-size: 1rem;text-align: center;\"\u003e{{ .FuzzyWordCount }} Words|Read in about {{ .ReadingTime }} Min|本文总阅读量\u003cspan id=\"busuanzi_value_page_pv\"\u003e\u003c/span\u003e次\u003c/h5\u003e 可根据个人喜好选择放在文章头部或尾部 ","date":"2021-05-26","objectID":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/:6:4","tags":["project"],"title":"新博客的搭建结构","uri":"https://nowislewis.github.io/posts/%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA%E7%BB%93%E6%9E%84/"}]